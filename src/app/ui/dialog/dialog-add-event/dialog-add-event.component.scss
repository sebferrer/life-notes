::ng-deep .custom-form-field {
    margin-bottom: 1.34375em;
    display: inline-block;
    min-width: 180px;

    &.full-width {
        display: block; // Textareas should take full width
        width: 100%;
        min-width: 0;
    }

    .custom-label {
        color: rgba(0,0,0,0.54);
        font-family: Roboto, "Helvetica Neue", sans-serif;
        font-size: 12px;
        font-weight: 400;
        display: block;
        margin-bottom: 4px;
        // transform: scale(0.75); // Removed to fix "too small" issue
        // transform-origin: 0 0;
    }

    ion-item {
        --background: transparent;
        --padding-start: 0;
        --inner-padding-end: 0;
        --min-height: 0;
        --border-color: rgba(0,0,0,0.42);
        
        border-bottom: 1px solid rgba(0,0,0,0.42); 

        &.item-has-focus {
             border-bottom: 2px solid #3f51b5; // Primary color
             .custom-label {
                 color: #3f51b5;
             }
        }

        ion-datetime, ion-textarea {
            padding-top: 4px;
            padding-bottom: 4px;
            padding-left: 0;
            font-family: Roboto, "Helvetica Neue", sans-serif;
            font-size: 14px;
            color: rgba(0,0,0,0.87);
        }

        // Force single line height when not focused
        ion-textarea {
            max-height: 38px;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
        }

        &.item-has-focus ion-textarea {
             max-height: 200px;
             overflow: auto;
        }
    }
}
